<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Draggable Numbers</title>
    <link rel="stylesheet" href="tufte.min.css"/>

    <!-- local D3 -->
    <script type="text/javascript" src="d3.min.js" charset="utf-8"></script>
    <!-- fetch D3 -->
    <!-- <script src="https://d3js.org/d3.v5.min.js"></script> -->

    <!-- local KaTeX -->
    <link defer rel="stylesheet" href="katex.min.css">
    <script defer src="katex.min.js" charset="uft-8"></script>
    <script defer src="auto-render.min.js" charset="utf-8" onload="renderMathInElement(document.body);"></script>
    <!-- fetch KaTeX-->
    <!--   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"> -->
    <!-- <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script> -->
    <!-- <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script> -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <article>
      <p> If you eat <span class="cookies"></span> cookies, then you will consume <span class="calories"></span> calories.</p>
    </article>
    <script type="text/javascript">
      function probability() {

          var cookies = 5,
              calories = cookies * 10;

          d3.select(".cookies")
              .attr("style", "border-bottom: 1px dotted #000;")
              .text(cookies)
              .call(d3.drag()
                    .on("drag", draggedCookies));

          d3.select(".calories")
              .attr("style", "border-bottom: 1px dotted #000;")
              .text(calories)
              .call(d3.drag()
                    .on("drag", draggedCalories));


          function draggedCookies(d) {
              cookies += d3.event.dx;
              cookies = cookies < 0 ? 0 : cookies;
              cookies = cookies > 100 ? 100 : cookies;

              d3.select(".cookies")
                  .text(cookies);

              d3.select(".calories")
                  .text(cookies * 10);
          }

          function draggedCalories(d) {
              calories += d3.event.dx;
              calories = calories < 0 ? 0 : calories;
              calories = calories > 1000 ? 1000 : calories;

              d3.select(".cookies")
                  .text(calories / 10);

              d3.select(".calories")
                  .text(calories);
          }
      }

      probability();
    </script>
  </body>
</html>
